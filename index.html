<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aukcja</title>
    <script src="https://cdn.jsdelivr.net/npm/ethers/dist/ethers.umd.min.js"></script> <!-- CDN dla ethers.js -->
    <script src="chz.js" defer></script> <!-- Ładowanie chz.js po ethers.js -->
</head>
<body>
    <h1>Aukcja</h1>
    <button id="connectButton">Połącz z MetaMask</button>
    <button id="placeBidButton">Złóż ofertę</button>
    <button id="withdrawButton">Wypłać środki</button>
    <button id="endAuctionButton">Zakończ aukcję</button>

    <script>
        // Upewnij się, że te funkcje są dostępne
        async function requestAccount() {
            if (typeof window.ethereum !== 'undefined') {
                await window.ethereum.request({ method: 'eth_requestAccounts' });
                console.log("Connected to MetaMask");
                signer = provider.getSigner(); // Ustaw signer po połączeniu
            } else {
                alert("Proszę zainstalować MetaMask!");
            }
        }

        // Przykład implementacji placeBid, withdrawFunds i endAuction (musisz mieć je zaimplementowane w chz.js)
        document.getElementById('connectButton').onclick = requestAccount;
        document.getElementById('placeBidButton').onclick = placeBid;
        document.getElementById('withdrawButton').onclick = withdrawFunds;
        document.getElementById('endAuctionButton').onclick = endAuction;
    </script>
</body>
</html>
